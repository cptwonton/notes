#### Install
- add mybatis-x.x.x.jar in the CLASSPATH
- OR if using maven, just add the dependency to the pom.xml
<dependency>
  <groupId>org.mybatis</groupId>
  <artifactId>mybatis</artifactId>
  <version>x.x.x</version>
</dependency>

#### SqlSessionFactory
- center of every MyBatis application
- instance can be acquired from SqlSessionFactoryBuilder
- Builder uses an XML configuration file OR a custom instance of Configuration class
- XML can be loaded from classpath resource, or an actual file path or URL
  - settings for datasource for acquiring database connection instances
  - transactionmanager for how transactions should be scoped and controlled
  - specifies mapper file resource locations
- without XML, can build configuration from java. but some advanced things can only be done via XML
- unneeded once session is generated, so should have method-scope

#### Sessions
- generated by sessionfactory
- can call selectOne(<namespace+mapped command>, <parameters>)
- OR can call getMapper(<interfacename.class>); Blog blog = mapper.selectBlog(101); for cleaner code
- BlogMapper is an interface with SQL annotations, i.e., 
  - `@Select("SELECT * FROM blog WHERE id = #{id}")`
  - `Blog selectBlog(int id);`
- but annotations are limited, so best to use XML
- Needs to be method-scoped
- Should not be shared, are not thread safe

`SqlSession session = sqlSessionFactory.openSession();`

`try {`
` BlogMapper mapper = session.getMapper(BlogMapper.class);`

`  // do work`
  
`} finally {`

 ` session.close();`
  
`}`

#### Mappers
- interfaces that bind to mapped statements
- instances of mapper are acquired from sqlsession
- broadest scope is same as sqlsession, at most
- do not need to kill mapper instance, will auto delete

#### MapperXML files
  - true power of MyBatis is in mapped statements - this is where the magic happens.
  - relatively simple
  - savings of 95% of code compared to JDBC

Has a few first class elements:
  - cache (configuration of the cache for a given namespace, missing from servicedatemapper.xml)
  - cache-ref (reference to a cache configuration from another namespace, missing from servicedatemapper.xml)
  - resultMap (used to convert database result sets -> my java objects)
  - sql (reusable SQL code, can be referenced by other statements)
  - various CRUD statements, mapped (insert, update, delete, select)
